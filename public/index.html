<!DOCTYPE html>
<html>
<head><title>WhatsApp Audio Uploader</title></head>
<body>
    <h2>ðŸ“± Pair WhatsApp Using Pair Code</h2>
    <p>Click the button below to generate a pair code:</p>
    <button onclick="generatePairCode()">Generate Pair Code</button>
    <p id="pairCodeDisplay"></p>

    <h2>ðŸ”— Pair Your Device</h2>
    <form action="/pair" method="post" id="pairForm">
        <label for="pairCode">Enter your Pairing Code:</label>
        <input type="text" id="pairCode" name="code" required>
        <button type="submit">Pair Device</button>
    </form>

    <h2>ðŸŽµ Upload and Send Audio</h2>
    <form action="/upload" method="POST" enctype="multipart/form-data">
        <input type="file" name="audio" accept="audio/*" required />
        <button type="submit">Send to WhatsApp</button>
    </form>

    <script>
        async function generatePairCode() {
            const response = await fetch('/pair-code');
            const text = await response.text();
            document.getElementById("pairCodeDisplay").textContent = text;
        }
    </script>
</body>
</html>
